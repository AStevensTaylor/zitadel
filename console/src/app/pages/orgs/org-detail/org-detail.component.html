<div class="org-top">
  <div class="max-width-container">
    <div class="org-top-row">
      <div>
        <div class="org-title-row">
          <h1 class="org-title">{{org?.name}}</h1>
          <div class="org-state-dot" matTooltip="{{'ORG.STATE.'+org?.state | translate}}"
            [ngClass]="{'active': org?.state === OrgState.ORG_STATE_ACTIVE, 'inactive': org?.state === OrgState.ORG_STATE_INACTIVE }">
          </div>
        </div>
      </div>
      <span class="fill-space"></span>
      <cnsl-contributors [totalResult]="totalMemberResult" [loading]="loading$ | async"
        [membersSubject]="membersSubject" title="{{ 'PROJECT.MEMBER.TITLE' | translate }}"
        description="{{ 'PROJECT.MEMBER.TITLEDESC' | translate }}" (addClicked)="openAddMember()"
        (showDetailClicked)="showDetail()" (refreshClicked)="loadMembers()" [disabled]="false">
      </cnsl-contributors>
    </div>
    <cnsl-info-row *ngIf="org" [org]="org"></cnsl-info-row>
  </div>
</div>
<div class="max-width-container">
  <cnsl-meta-layout>
    <ng-container *ngIf="['features.read'] | hasRole | async">
      <h2 class="org-subtitle">{{'FEATURES.TITLE' | translate}}</h2>
      <p class="org-top-desc">{{'FEATURES.DESCRIPTION' | translate}}</p>
      <cnsl-zitadel-tier [features]="features"></cnsl-zitadel-tier>
    </ng-container>

    <ng-template cnslHasRole [hasRole]="['policy.read']">
      <cnsl-policy-grid class="policies" [type]="PolicyComponentServiceType.MGMT"></cnsl-policy-grid>
    </ng-template>

    <div metainfo>
      <cnsl-changes *ngIf="org" [changeType]="ChangeType.ORG" [id]="org.id"></cnsl-changes>
    </div>
  </cnsl-meta-layout>
</div>