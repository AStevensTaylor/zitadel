---
title: Gitlab OmniAuth Provider
---

This guide shows how to enable login with ZITADEL on self hosted gitlab instances.

It covers how to:

- create and configure the application in your ZITADEL project
- create and configure the connection in gitlab self hosted

Prerequisits:

- existing ZITADEL organisation, if not present follow [this guide](../../guides/basics/get-started#trying-out-zitadel-on-zitadelch)
- existing project, if not present follow the first 3 steps [here](../../guides/basics/projects#exercise---create-a-simple-project)
- running gitlab instance see [installation guide](https://docs.gitlab.com/ee/install/)

import CreateApp from "./application/application.mdx";

<CreateApp appType="web" authType="code" appName="Gitlab" redirectURI="https://<your_gitlab_url>/users/auth/openid_connect/callback"/>

## Gitlab configuration

Follow [this guide](https://docs.gitlab.com/ee/administration/auth/oidc.html) of gitlab to configure the omniauth provider. Following is an example configuration with redacted secrets.

Replace the values of the following fields:

- `args.client_options.identifier` with the `ClientId` generated by ZITADEL in the last step of [Create application in ZITADEL])()
- `args.client_options.secret` with the `ClientSecret` generated by ZITADEL in the last step of [Create application in ZITADEL])()
- `args.client_options.redirect_uri` with the proper URL to your gitlab instance and callback

```yaml
gitlab_rails['omniauth_providers'] = [
  {
    name: "openid_connect",
    label: "ZITADEL",
    icon: "https://{your_domain}/ui/console/assets/icons/favicon-32x32.png",
    args: {
      name: "openid_connect",
      scope: ["openid","profile","email"],
      response_type: "code",
      issuer: "https://{your_domain}",
      discovery: true,
      client_options: {
        identifier: "<CLIENT ID from ZITADEL>",
        secret: "<CLIENT SECRET from ZITADEL>",
        redirect_uri: "https://<your_gitlab_url>/users/auth/openid_connect/callback"
      }
    }
  }
]
```
