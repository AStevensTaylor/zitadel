<ng-container *ngIf="(['org.write$'] | hasRole) as canwrite$">
  <div class="domain-top-view">
    <div>
      <h1>{{ 'ORG.DOMAINS.TITLE' | translate }}</h1>
      <p class="desc">{{ 'ORG.DOMAINS.DESCRIPTION' | translate }}</p>
    </div>
    <span class="fill-space"></span>
    <button class="icon-button" (click)="loadDomains()" card-actions mat-icon-button>
      <mat-icon class="icon">refresh</mat-icon>
    </button>
    <button [disabled]="(canwrite$ | async) === false || (['custom_domain'] | hasFeature | async) === false"
      matTooltip="Add domain" mat-raised-button color="primary" (click)="addNewDomain()">{{'ORG.DOMAINS.NEW' |
      translate}}
    </button>

  </div>

  <cnsl-card *ngFor="let domain of domains">
    <div class="domain">
      <span *ngIf="(canwrite$ | async) && (['custom_domain'] | hasFeature | async); else noCustom"
        (click)="verifyDomain(domain)" class="title">{{domain.domainName}}</span>

      <ng-template #noCustom>
        <span class="title disabled">{{domain.domainName}}</span>
      </ng-template>
      <span *ngIf="(canwrite$ | async) === false" class="title disabled">{{domain?.domainName}}</span>

      <i matTooltip="verified" *ngIf="domain.isVerified" class="verified las la-check-circle"></i>
      <i matTooltip="primary" *ngIf="domain.isPrimary" class="primary las la-star"></i>
      <a *ngIf="domain.isVerified && !domain.isPrimary && (canwrite$ | async)" class="primaryset"
        (click)="setPrimary(domain)">{{'ORG.DOMAINS.SETPRIMARY' | translate}}</a>

      <span class="fill-space"></span>
      <button class="rem-button" [disabled]="(canwrite$ | async) === false" matTooltip="Remove domain" color="warn"
        mat-icon-button (click)="removeDomain(domain.domainName)"><i class="las la-trash"></i></button>
    </div>
  </cnsl-card>

  <p class="desc">{{'ORG.PAGES.ORGDOMAIN.VERIFICATION' | translate}}</p>

  <cnsl-info-section *ngIf="(['custom_domain'] | hasFeature | async) === false" [featureLink]="['/org/features']"
    class="info" [type]="InfoSectionType.WARN">
    <span [innerHTML]="'FEATURES.NOTAVAILABLE' | translate: ({value: 'custom_domain'})"></span>
  </cnsl-info-section>


</ng-container>