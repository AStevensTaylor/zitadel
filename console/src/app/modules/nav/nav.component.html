<ng-container *ngIf="((['iam.read$','iam.write$'] | hasRole)) as iamuser$">
  <div class="nav-col" [ngClass]="{'is-admin': (iamuser$ | async)}">
    <div class="nav-row">
      <!-- <a @navitem class="nav-item" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }"
        [routerLink]="['/']">
        <span class="label">{{ 'MENU.DASHBOARD' | translate }}</span>
      </a> -->

      <!-- <ng-container *ngIf="authenticationService.authenticationChanged | async">
          <a @navitem matTooltip="{{'MENU.TOOLTIP.PERSONAL' | translate}}" class="nav-item"
              [routerLinkActive]="['active']" [routerLinkActiveOptions]="{ exact: true }"
              [routerLink]="['/users/me']">
              <span class="label">{{ 'MENU.PERSONAL_INFO' | translate }}</span>
          </a>
      </ng-container> -->

      <ng-container class="org-list" *ngIf="org" [@navAnimation]="org">
        <ng-template cnslHasRole [hasRole]="['org.read']">
          <a @navitem matTooltip="{{'MENU.TOOLTIP.ORG' | translate}}" class="nav-item" [routerLinkActive]="['active']"
            [routerLink]="[ '/org']">
            <span class="label">{{'MENU.ORGANIZATION' | translate}}</span>
          </a>
        </ng-template>

        <ng-template cnslHasRole [hasRole]="['project.read(:[0-9]*)?']">
          <a @navitem matTooltip="{{'MENU.TOOLTIP.SELFPROJECTS' | translate}}" class="nav-item"
            [routerLinkActive]="['active']" [routerLink]="[ '/projects']">

            <div class="c_label">
              <span> {{'MENU.PROJECT' | translate}} </span>
              <span *ngIf="(mgmtService?.ownedProjectsCount | async)" class="count">{{(mgmtService?.ownedProjectsCount |
                async)}}</span>
            </div>
          </a>

          <a @navitem matTooltip="{{'MENU.TOOLTIP.GRANTEDPROJECTS' | translate}}"
            *ngIf="mgmtService?.grantedProjectsCount && (mgmtService?.grantedProjectsCount | async)" class="nav-item"
            [routerLinkActive]="['active']" [routerLink]="[ '/granted-projects']">
            <div class="c_label">
              <span>{{ 'MENU.GRANTEDPROJECT' | translate }}</span>
              <span class="count">{{mgmtService?.grantedProjectsCount | async}}</span>
            </div>
          </a>
        </ng-template>

        <ng-template cnslHasRole [hasRole]="['user.read(:[0-9]*)?']">
          <a @navitem matTooltip="{{'MENU.TOOLTIP.HUMANUSERS' | translate}}" class="nav-item"
            [routerLinkActive]="['active']" [routerLink]="[ '/users/list/humans']"
            [routerLinkActiveOptions]="{ exact: true }">
            <span class="label">{{ 'MENU.HUMANUSERS' | translate }}</span>
          </a>
          <a @navitem matTooltip="{{'MENU.TOOLTIP.MACHINEUSERS' | translate}}" class="nav-item"
            [routerLinkActive]="['active']" [routerLink]="[ '/users/list/machines']"
            [routerLinkActiveOptions]="{ exact: true }">
            <span class="label">{{ 'MENU.MACHINEUSERS' | translate }}</span>
          </a>
        </ng-template>

        <ng-template cnslHasRole [hasRole]="['user.grant.read(:[0-9]*)?']">
          <a @navitem matTooltip="{{'MENU.TOOLTIP.AUTHZ' | translate}}" class="nav-item" [routerLinkActive]="['active']"
            [routerLink]="[ '/grants']" [routerLinkActiveOptions]="{ exact: true }">
            <span class="label">{{ 'MENU.GRANTS' | translate }}</span>
          </a>
        </ng-template>

        <ng-template cnslHasFeature [hasFeature]="['actions']">
          <a @navitem matTooltip="{{'MENU.TOOLTIP.ACTIONS' | translate}}" class="nav-item"
            [routerLinkActive]="['active']" [routerLink]="[ '/actions']" [routerLinkActiveOptions]="{ exact: true }">
            <i class="icon las la-exchange-alt"></i>
            <span class="label">{{ 'MENU.ACTIONS' | translate }}</span>
          </a>
        </ng-template>
      </ng-container>

      <span class="fill-space"></span>

      <ng-container *ngIf="iamuser$ | async">
        <a @navitem matTooltip="{{'MENU.TOOLTIP.IAMPOLICIES' | translate}}" class="nav-item"
          [routerLinkActive]="['active']" [routerLink]="[ '/iam','policies']">
          <span class="label">{{'MENU.IAMPOLICIES' | translate}}</span>
        </a>

        <a @navitem matTooltip="{{'MENU.TOOLTIP.IAMEVENTSTORE' | translate}}" class="nav-item"
          [routerLinkActive]="['active']" [routerLink]="[ '/iam', 'eventstore']">
          <span class="label">{{'MENU.IAMEVENTSTORE' | translate}}</span>
        </a>
      </ng-container>

      <!-- <div class="toc-line" *ngIf="privacyPolicy">
          <a class="toc" [href]="privacyPolicy.tosLink" alt="Terms and Conditions"
              target="_blank">{{'MENU.TOS'
              | translate}}</a>
              <span class="slash">|</span>
          <a class="toc" [href]="privacyPolicy.privacyLink" alt="Privacy Policy "
              target="_blank">{{'MENU.PRIVACY'
              | translate}}</a>
          <span>&nbsp;&nbsp;&nbsp;</span>
      </div> -->
    </div>
  </div>
  <!-- <div @adminline *ngIf="iamuser$ | async" class="admin-line" [ngClass]="{'expanded': !hideAdminWarn}"
      matTooltip="IAM Administrator">
      <span>{{'MENU.IAMADMIN' | translate}}</span>
  </div> -->
</ng-container>